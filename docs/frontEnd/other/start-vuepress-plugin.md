---
title: vuepress æ’ä»¶å¼€å‘æ€»ç»“
lang: zh-CN
author: sillyY
update: 2019/12/26
---
# vuepress æ’ä»¶å¼€å‘æ€»ç»“

ç”±äºæŸä¸ªç»„ä»¶åº“([ele-vue](http://sillyy.cn/ele-vue/))çš„æ–‡æ¡£ç¼˜æ•…ï¼Œæ•…æ‰“ç®—å»å¼€å‘ vuepress çš„æ’ä»¶([vuepress-plugin-code-segment](http://sillyy.cn/vuepress-plugin-code-segment/))æ¥å¸®åŠ©ç”Ÿäº§ demo å’Œ codeã€‚å…¶é—´å†æ—¶ 1 ä¸ªå¤šæœˆï¼Œæ€»ç®—å¹¸ä¸è¾±å‘½ã€‚æ•…åœ¨æ­¤è®°å½•å…¶ä¸­è‰°è¾›ã€‚

### æ”¶é›†èµ„æ–™é˜¶æ®µ

å¼€å§‹åœ¨ç½‘ä¸Šæœå¯»ç›¸å…³èµ„æ–™ï¼Œæ‰¾åˆ° 2 ä¸ªåº“([vuepress-plugin-demo-block](https://github.com/xiguaxigua/vuepress-plugin-demo-block) å’Œ [vuperess-plugin-demo-code](https://github.com/BuptStEve/vuepress-plugin-demo-code)).  
æœ¬æ¥æ‰“ç®—ç›´æ¥ä½¿ç”¨çš„ï¼Œå¼€å§‹å°è¯• demo-code è¿™ä¸ªåº“ï¼Œåæ¥å‘ç°è¯¥åº“æ˜¯åŠ è½½ä¸€ä¸ªç»„ä»¶åˆ°é¡µé¢ä¸­å»ï¼Œæ•…å½“åŒä¸€ä¸ªé¡µé¢å­˜åœ¨å¤šä¸ªå±•ç¤º demoï¼Œ2 ä¸ªç»„ä»¶ä¸­ data æ˜¯åŒä¸€ä¸ª dataï¼Œæ•…ä¼šè®©å¼€å‘å¾ˆä¸èˆ’æœ.  
å…¶æ¬¡å°è¯•äº† demo-blockï¼Œè¯¥åº“æ£€æµ‹ï¼šæ¯æœ‰ä¸€ä¸ªå±•ç¤º demoï¼Œå°±å»ç”Ÿæˆä¸€ä¸ª demoï¼Œè™½ç„¶è§£å†³äº† demo-code çš„é—®é¢˜ï¼Œä½†å…¶æœ¬èº«ç¼ºå°‘ demo-code çš„å±æ€§è‡ªå®šä¹‰çš„ç‰¹ç‚¹ï¼Œè€Œä¸”ä½œè€…å¥½åƒä¸å†ç»´æŠ¤.

### å¼€å‘é—®é¢˜

#### 1.vuepress ç‰ˆæœ¬åŒºåˆ«

v0.x å’Œ v1.x ä¹‹é—´æ˜¯å­˜åœ¨å¾ˆå¤§åŒºåˆ«ï¼Œv1.x å°†æ¨¡å—è§£è€¦ï¼Œæ”¹å˜æˆæ’ä»¶çš„æ¨¡å¼å»é›†æˆï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ v0.x ç‰ˆæœ¬ä¸å­˜åœ¨æ’ä»¶ç³»ç»Ÿ

> tip: å…³äºè¿™ç‚¹ï¼Œæˆ‘çœŸçš„è°ƒç ”äº†å¾ˆä¹…ï¼Œä¹‹å‰ä¸€ç›´æ²¡æ³¨æ„ vuepress å­˜åœ¨ 2 ä¸ªç‰ˆæœ¬ã€‚è€å®è¯´ï¼Œvuepress ç›¸å…³æ–‡æ¡£çœŸçš„æ˜¯å°‘ï¼Œå…¨æ˜¯æŠ„ç€å®˜æ–¹æ–‡æ¡£å»æ­å»º vuepress åšå®¢ï¼ŒçœŸçš„æ˜¯æ¯«æ— æ„ä¹‰ã€‚

#### 2.æ’ä»¶ Option API

> tip: è¿™é‡Œæ˜¯æ’ä»¶çš„ Option APIï¼Œä¸æ˜¯ vuepress çš„é…ç½® API

- extendMarkdown(Option API)  
  è¿™ä¸ªæ˜¯ç”¨äºä¿®æ”¹ markdown æ–‡ä»¶ï¼Œæˆ‘è¿™æ¬¡ä¸»è¦ä½¿ç”¨è¯¥ APIï¼Œåé¢ä¼šç€é‡è®²ã€‚

- clientRootMixin(Option API)  
  ç±»ä¼¼äºæ··å…¥ï¼Œè¯¥æ–‡ä»¶å¯ä»¥æ§åˆ¶æ ¹ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€‚

- define(Option API)  
  å¦‚æœæƒ³åœ¨ clientRootMixin ä½¿ç”¨é…ç½®æ–‡ä»¶,å¯ä»¥åœ¨è¿™é‡Œå°† option å®šä¹‰æˆå…¨å±€é…ç½®

```
{
    define: {
      SETTINGS:  options
    }
}
```

#### 3.extendMarkdown API å’Œ [markdown-it](https://github.com/markdown-it/markdown-it)ã€[markdown-it-container](https://github.com/markdown-it/markdown-it-container)ä¾èµ–

- extendMarkdown

```
module.exports = {
  extendMarkdown: md => {
    md.set({ breaks: true }) // è½¬æ¢æ®µè½é‡Œçš„ '\n' åˆ° <br>ã€‚
    md.use(require('markdown-it-xxx')) // ä½¿ç”¨æŸä¸ªä¾èµ–
  }
}
```

- markdown-it  
  markdown æ–‡ä»¶çš„è§£æåº“ï¼Œç›®å‰å¤§éƒ¨åˆ†çš„ markdown åº“éƒ½æ˜¯åŸºäºå®ƒå¼€å‘çš„ã€‚æœ‰æ²¡æœ‰åˆ«çš„ï¼ŒæŠ±æ­‰ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚

- markdown-it-container  
  åˆ›å»ºè‡ªå®šä¹‰ç»“æ„çš„å—å®¹å™¨

```
::: warning
*here be dragons*
:::
```

ğŸ‘‡

```
<div class="warning">
<em>here be dragons</em>
</div>
```

å¯ä»¥è¯†åˆ«å«æœ‰æŒ‡å®šæ ‡å¿—(ä¸Šé¢æ˜¯ warning)çš„ä»£ç å—,å¯¹ä»£ç å—ä¸­çš„æ–‡æ¡£è¿›è¡Œå¤„ç†ï¼Œä»è€Œç”ŸæˆæŒ‡å®šçš„ä»£ç å—ã€‚

> tip: è¿™é‡Œä¹ŸèŠ±äº†å¥½ä¹…ï¼Œä¸»è¦æ˜¯åœ¨ç ”ç©¶ markdown-it å’Œ markdown-it-container è¿™ 2 ä¸ªä¾èµ–ä¸Š.

#### 4.debugger é—®é¢˜

- é¦–å…ˆæ’ä»¶çš„å¼€å‘æ–‡ä»¶æ˜¯ node ç¯å¢ƒï¼Œè¯·è®°ä½ä½ å¸¸å¸¸ä¼šå­˜åœ¨ä¿®æ”¹äº†ä»£ç ï¼Œä½†æ— æ•ˆçš„æƒ…å†µ.  
  å› ä¸º vuepress çš„åŠ è½½æ–¹å¼æ˜¯,å…ˆåŠ è½½ node éƒ¨åˆ†,å†åŠ è½½ web éƒ¨åˆ†.è€Œæ’ä»¶çš„å¼€å‘æ–‡ä»¶åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨ç”Ÿæˆä¸€é,ä½†ä¿®æ”¹è¯¥æ–‡ä»¶å¹¶ä¸ä¼šè§¦å‘çƒ­æ›´æ–°,å› ä¸º vuepress åªç›‘å¬å®ƒçš„ markdown æ–‡ä»¶.æ‰€ä»¥å³ä½¿ä½ ä¿®æ”¹äº†ä»£ç ,ä½†ä½ ä½¿ç”¨åŠ è½½çš„éƒ½æ˜¯ç¼“å­˜é‡Œçš„ç¬¬ä¸€æ¬¡å¯åŠ¨çš„ä»£ç .

è§£å†³æ–¹æ¡ˆ:

1.è®¾ç½® extraWatchFiles,è¿™é‡Œç›‘å¬æ’ä»¶å¼€å‘æ–‡ä»¶

```
module.exports = {
  extraWatchFiles: [
    '.vuepress/foo.js', // ä½¿ç”¨ç›¸å¯¹è·¯å¾„
    '/path/to/bar.js'   // ä½¿ç”¨ç»å¯¹è·¯å¾„
  ]
}
```

2. è®¾ç½® vuepress-cli å‘½ä»¤

```
{
  "scripts": {
    "start": "vuepress dev docs --no-clear-screen --no-cache --temp .temp",
  },
}
```

--no-clear-screen ä¸æ¸…é™¤å±å¹•  
--no-cache ä¸ç¼“å­˜  
--temp .temp æŒ‡å®šå®¢æˆ·ç«¯æ–‡ä»¶çš„ä¸´æ—¶ç›®å½•ã€‚

3. åœ¨æµ‹è¯• Markdown æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹æ–‡æœ¬:

```
ç¬¬001æ¬¡æµ‹è¯•(ä¿®æ”¹æ•°å­—,å¼ºåˆ¶è§¦å‘vuepressæ›´æ–°)
```

- å¥½çš„ä¸€ç‚¹æ˜¯ clientRootMixin é‡Œæ··å…¥çš„æ–‡ä»¶åˆæ˜¯åœ¨ç½‘é¡µç¯å¢ƒä¸­,æ•…è¿™é‡Œé¢çš„ä»£ç ä¿®æ”¹ä¼šå®æ—¶æ›´æ–°.

> tip: vuepress çš„çƒ­æ›´æ–°çœŸçš„è®©æˆ‘è›®ç»æœ›,ç‰¹åˆ«æ˜¯å¯¹æ’ä»¶å¼€å‘æå…¶ä¸å‹å¥½,debugger å¤ªç—›è‹¦.

#### 5.æ’ä»¶å¼€å‘ä¸æ”¯æŒæœ¬åœ°å›¾ç‰‡(ä¸æ’é™¤å¯ä»¥è§£å†³çš„å¯èƒ½æ€§,è¿™æ–¹é¢èµ„æ–™å®åœ¨å¤ªå°‘,æš‚æ—¶æ²¡æœ‰è§£å†³åŠæ³•.)

å› ä¸º vuepress é‡Œçš„é™æ€èµ„æºéƒ½åœ¨.vuepress/public é‡Œ,æœ¬åœ°å›¾ç‰‡æ”¾åˆ°è¿™é‡Œé¢,ä¸å°±ç­‰åŒäºç”¨æˆ·éœ€è¦æ”¾ç½®ä¸€å¼ ä¸€æ ·çš„å›¾ç‰‡åˆ° public é‡Œ.è€Œå¤–éƒ¨çš„å›¾ç‰‡åœ°å€åˆæ— æ³•åŠ è½½è¿›å».

> tip: å¯ä»¥ä½¿ç”¨å›¾ç‰‡cdnçš„æ–¹å¼æ¥è§£å†³å§.

<Valine />